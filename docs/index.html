<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WrenchGeeks - The Garage</title>
    <link rel="stylesheet" href="style.v3.css">
</head>
<body>
    <header style="position: relative;">
        <div class="container" style="justify-content: center; display: flex; flex-direction: column; align-items: center;">
            
            <h1 style="margin:0;">WrenchGeeks üîß</h1>
            <nav class="main-nav">
                <button class="nav-tab active" data-target="searchSection">Find Parts</button>
                <button class="nav-tab" data-target="knowledgeSection">Knowledge Base</button>
            </nav>
        </div>

        <!-- RETRO COUNTER (Top Right) -->
        <div class="retro-counter-box" style="position: absolute; top: 15px; right: 20px;">
            <div id="flip-counter" class="flip-counter">
                <span class="digit">0</span><span class="digit">0</span><span class="digit">0</span><span class="digit">0</span><span class="digit">0</span><span class="digit">0</span>
            </div>
            <div class="counter-label">MECHANICS HAVE VIEWED THIS SITE</div>
        </div>
    </header>

    <!-- DONATE MODAL -->
    <div id="donateModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 style="color: var(--success-color); text-align: center;">Fuel the Project ‚õΩ</h2>
            <p style="text-align: center; color: var(--text-muted);">Server costs and coffee aren't free. Drop a tip if this saved your knuckles.</p>
            
            <div class="payment-options">
                <!-- Cash App QR Code Section -->
                <div style="text-align:center; margin-bottom:1rem;">
                    <img src="cashapp_qr.png" alt="Scan to Pay on Cash App" style="max-width: 180px; width: 100%; border-radius: 12px; border: 3px solid #00D632; box-shadow: 0 4px 15px rgba(0, 214, 50, 0.3);">
                    <p style="font-size: 0.9em; color: #00D632; margin-top: 5px; font-weight:bold;">$Mechforge3dservices</p>
                    <p style="font-size: 0.75em; color: var(--text-muted); margin-top: 2px;">(All payments are private)</p>
                </div>

                <a href="https://cash.app/$Mechforge3dservices" target="_blank" class="pay-btn cashapp">
                    <span>Open Cash App</span>
                </a>
                <a href="https://venmo.com/" target="_blank" class="pay-btn venmo">
                    <span>Venmo</span>
                </a>
                <a href="https://paypal.me/" target="_blank" class="pay-btn paypal">
                    <span>PayPal</span>
                </a>
                <a href="#" class="pay-btn crypto">
                    <span>Crypto (BTC/ETH/LTC)</span>
                </a>
            </div>
        </div>
    </div>

    <main class="container">
        <!-- SEARCH SECTION -->
        <div id="searchSection" class="content-section active-section">
            <div class="split-view">
                <aside id="selector" class="sidebar">
            <h2>Vehicle Selector</h2>
            <p id="makeLoadStatus" class="hint" style="margin-bottom:0.75rem;">Loading manufacturers...</p>

            <div class="controls">
                <div class="form-group">
                    <label for="makeSelect">Make</label>
                    <select id="makeSelect">
                        <option value="">-- Select Make --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="modelSelect">Model</label>
                    <select id="modelSelect" disabled>
                        <option value="">-- Select Model --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="yearSelect">Generation</label>
                    <select id="yearSelect" disabled>
                        <option value="">-- Select Generation --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="subsystemSelect">System</label>
                    <select id="subsystemSelect" disabled>
                        <option value="">All Systems</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>&nbsp;</label>
                    <button id="searchButton" disabled>Find Parts </button>
                </div>
            </div>
        </aside>

        <div class="main-content">
            <section id="results" class="hidden">
                <div class="card">
                    <h3>Compatible Parts for <span id="selectedVehicleName" style="color: var(--accent-color);"></span></h3>
                    <div id="tipsList" class="tips-container hidden"></div>
                </div>
                
                <div id="partsList" class="grid-list"></div>
                
                <div id="donorList" class="card hidden">
                    <h4>üîÑ Interchangeable Models</h4>
                    <p class="hint">These vehicles share the same platform or engine. Excellent sources for compatible parts.</p>
                    <ul id="donorVehicles"></ul>
                </div>
            </section>

            <section id="partDetails" class="hidden">
                <button id="backButton" class="btn-secondary"> Back to Results</button>
                
                <div class="card">
                    <div class="part-header">
                        <h2 id="partName" style="color: var(--accent-color);">Part Name</h2>
                        <span id="partCategory" class="badge">System</span>
                    </div>
                    <p id="partDescription">Description goes here.</p>

                    <div id="proTipSection" class="highlight-gold hidden" style="margin-top: 1rem; padding: 1rem; background: rgba(255, 152, 0, 0.1); border-left: 4px solid var(--accent-color);">
                        <h4 style="margin-top:0;"> Mechanic's Notes</h4>
                        <div id="proTipContent"></div>
                    </div>
                </div>
                
                <div class="details-grid">
                    <div class="card">
                        <h4> Tech Specs</h4>
                        <ul id="partSpecs"></ul>
                    </div>
                    
                    <div class="card">
                        <h4> Verified Fitment</h4>
                        <p class="hint">Confirmed vehicles this part was originally found on.</p>
                        <div id="compatibleVehicles"></div>
                    </div>

                    <div class="card">
                        <h4> Aftermarket / Universal</h4>
                        <ul id="universalParts"></ul>
                    </div>
                </div>
            </section>

            <section id="legend" class="card" style="margin-bottom: 1.5rem;">
                <h3>Fitment Guide</h3>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li style="margin-bottom: 0.75rem; display: flex; align-items: center;">
                        <span style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 0.75rem; background-color: var(--success-color); box-shadow: 0 0 5px var(--success-color);"></span>
                        <div>
                            <strong style="color: var(--success-color);">Direct Fit</strong>
                            <div style="font-size: 0.8rem; color: var(--text-muted);">Bolt-on. No headaches.</div>
                        </div>
                    </li>
                    <li style="margin-bottom: 0.75rem; display: flex; align-items: center;">
                        <span style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 0.75rem; background-color: var(--warning-color); box-shadow: 0 0 5px var(--warning-color);"></span>
                        <div>
                            <strong style="color: var(--warning-color);">Minor Mods</strong>
                            <div style="font-size: 0.8rem; color: var(--text-muted);">Drilling, brackets, or wiring.</div>
                        </div>
                    </li>
                    <li style="margin-bottom: 0.5rem; display: flex; align-items: center;">
                        <span style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 0.75rem; background-color: var(--danger-color); box-shadow: 0 0 5px var(--danger-color);"></span>
                        <div>
                            <strong style="color: var(--danger-color);">Major Mods</strong>
                            <div style="font-size: 0.8rem; color: var(--text-muted);">Welding, cutting, custom fab.</div>
                        </div>
                    </li>
                </ul>
            </section>

            <section id="donate" class="card">
                <h3>üîß Keep the Garage Open!</h3>
                <p>This tool is built on thousands of hours of "Old Timer" knowledge, junkyard research, and busted knuckles. If we helped you save big on your build, consider tossing a few bucks in the jar. It keeps the servers running and the 10mm sockets stocked!</p>
                <button id="donateBtn" class="btn-secondary" style="width:100%; border-color: var(--accent-color); color: var(--accent-color); font-weight:bold;">Donate & Support</button>
                
                <div style="margin-top: 1.5rem; text-align: center; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                    <p style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 0.5rem;">Or manually via Cash App:</p>
                    <p style="font-size: 1.4rem; color: #00D632; font-weight: bold; margin: 0; letter-spacing: 1px;">$Mechforge3dservices</p>
                    <p style="font-size: 0.8rem; color: var(--text-muted); opacity: 0.7; margin-top: 0.25rem;">(Private Transaction)</p>
                </div>
            </section>
                </div>
            </div>
        </div>

        <!-- KNOWLEDGE BASE SECTION -->
        <div id="knowledgeSection" class="content-section hidden">
            <div class="kb-header" style="text-align:center; margin-bottom:2rem;">
                <h2>The Archive</h2>
                <p>Ancient scrolls, wiring diagrams, and safety warnings written in blood.</p>
                <p style="text-align:center; font-size:0.9em; color:var(--accent-color);">
                    <a href="kb_standalone.html" style="color:inherit; text-decoration:underline;">Having trouble loading? Try the Offline/Standalone Version</a>
                </p>
            </div>
            
            <div class="kb-controls" style="display:flex; justify-content:center; gap:0.5rem; margin-bottom:2rem; flex-wrap:wrap;">
                <button class="btn-secondary filter-btn active" data-filter="all">All</button>
                <button class="btn-secondary filter-btn" data-filter="safety">Safety</button>
                <button class="btn-secondary filter-btn" data-filter="mechanical">Mechanical</button>
                <button class="btn-secondary filter-btn" data-filter="electrical">Electrical</button>
                <button class="btn-secondary filter-btn" data-filter="fabrication">Fabrication</button>
                <button class="btn-secondary filter-btn" data-filter="hacks">Hacks</button>
                <button class="btn-secondary filter-btn" data-filter="ecu">ECU Tuning</button>
                <button class="btn-secondary filter-btn" data-filter="tips">Pro Tips</button>
            </div>

            <div id="kbGrid" class="grid-list">
                <!-- Content injected by JS -->
            </div>
        </div>
    </main>

    <footer style="text-align: center; padding: 2rem 1rem; color: var(--text-muted); font-size: 0.8rem; border-top: 1px solid var(--border-color); margin-top: 2rem; background-color: #020c1b;">
        <div class="container" style="display: block; max-width: 800px;">
            <p style="color: var(--danger-color); font-weight: bold; text-transform: uppercase; letter-spacing: 1px;">‚ö†Ô∏è Liability Waiver & Safety Warning</p>
            <p>All information provided in this database is for educational and entertainment purposes only. By using this tool, you agree to <strong>waive all legal rights</strong> to hold WrenchGeeks liable for any property damage, personal injury, or death resulting from the use of this information.</p>
            <p>Users are solely responsible for verifying all fitment and safety data. Always consult official service manuals, follow proper removal/installation procedures, and wear appropriate <strong>Personal Protective Equipment (PPE)</strong>. Automotive modification involves inherent risks; proceed at your own risk.</p>
            <p style="margin-top: 1.5rem; opacity: 0.6;">&copy; 2025 WrenchGeeks. Built for the community.</p>
        </div>
    </footer>

    <script src="kb_data.js"></script>
    <script src="script.v4.js"></script>
</body>
</html>
